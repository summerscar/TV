import{r as e,D as t,R as n,a as l}from"./vendor.8a59a03f.js";const r=[{title:"TV asahi",src:"https://redlabmcdn.s.llnwi.net/jp01/ryowa4/index.m3u8",img:"tvasahi-min.jpg"},{title:"TV Tokyo",src:"https://redlabmcdn.s.llnwi.net/jp01/ryowa6/index.m3u8",img:"tvtokyo-min.jpg"},{title:"フジテレビ",src:"https://redlabmcdn.s.llnwi.net/jp01/ryowa7/index.m3u8",img:"fujitv-min.jpg"},{title:"TOKYO MX",src:"https://redlabmcdn.s.llnwi.net/jp01/ryowa8/index.m3u8",img:"tokyomx-min.jpg"},{title:"TOKYO MX2",src:"https://movie.mcas.jp/mcas/smil:mx2_prod.smil/master.m3u8",img:"tokyomx2-min.jpg"},{title:"TBS",src:"https://redlabmcdn.s.llnwi.net/jp01/ryowa5/index.m3u8",img:"tbs-min.jpg"},{title:"日テレ",src:"https://redlabmcdn.s.llnwi.net/jp01/ryowa3/index.m3u8",img:"ntv-min.jpg"},{title:"NHK G",src:"https://redlabmcdn.s.llnwi.net/jp01/ryowa2/index.m3u8",img:"nhkg-min.jpg"},{title:"NHK E",src:"https://redlabmcdn.s.llnwi.net/jp01/ryowa1/index.m3u8",img:"nhkee-min.jpg"},{title:"日テレ News 24",src:"https://n24-cdn-live.ntv.co.jp/ch01/index.m3u8",img:"ntv-news-min.jpg"}];function a(){const l=e.exports.useRef(null),a=e.exports.useRef(),[c,s]=e.exports.useState(),m=e.exports.useRef(window.document.title),i=e.exports.useRef(),o=e.exports.useRef(0),d=e.exports.useMemo((()=>{if(!c)return 0;if(c!==i.current){i.current||(i.current=r[0]);let e=-1*(r.indexOf(c)-r.indexOf(i.current))*360/r.length;e=Math.abs(e)>180?e>0?-360+e:360+e:e;let t=o.current+e;o.current=t,i.current=c}return o.current}),[c]),u=e.exports.useCallback((e=>{s(e),window.document.title=m.current+" - "+e.title,window.location.hash=encodeURIComponent(e.src)}),[]);e.exports.useEffect((()=>{let e=r[Math.floor(Math.random()*r.length)];if(window.location.hash){let t=decodeURIComponent(window.location.hash.slice(1,window.location.hash.length));console.log(t);let n=r.find((e=>e.src===t));n&&(e=n)}u(e)}),[]),e.exports.useEffect((()=>{const e=e=>{e.preventDefault();const t=c,n=r.indexOf(t);let l;l=e.deltaY>0?n+1:n-1,l=l>r.length-1?0:l<0?r.length-1:l,u(r[l])};return l.current.addEventListener("wheel",e),()=>l.current.removeEventListener("wheel",e)}),[c]);const p=e.exports.useCallback((()=>{c&&(a.current=new t({container:document.getElementById("dplayer"),autoplay:!0,video:{url:c.src,type:"hls"},preload:"none"}))}),[c]);return e.exports.useEffect((()=>{c&&(a.current?(a.current.destroy(),p()):p())}),[c,p]),n.createElement("div",{className:"App",id:"App"},n.createElement("h2",null,"Nihon TV"),n.createElement("div",{className:"selector",ref:l},n.createElement("div",{className:"container",style:{transform:`translateX(-50%) rotateY(${d}deg)`}},r.map(((e,t,l)=>n.createElement("div",{className:"tvImg",key:e.title,style:{transform:`rotateY(${360*t/l.length}deg ) translateZ(300px)`},onClick:()=>{u(e)}},n.createElement("img",{src:`img/${e.img}`})))))),n.createElement("div",{style:{padding:"0 0 20px"}},n.createElement("span",null,"TV："),n.createElement("select",{value:null==c?void 0:c.src,onChange:e=>{const t=r.find((t=>t.src===e.target.value));u(t)}},r.map((e=>n.createElement("option",{key:e.src,value:e.src},e.title)))),n.createElement("button",{onClick:()=>window.open("https://tv.yahoo.co.jp/listings"),style:{marginLeft:"0.8rem"}},"番組表")),n.createElement("div",{id:"dplayer"}),n.createElement("table",null,n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",null,"月曜から夜更かし"),n.createElement("td",null,"日テレ"),n.createElement("td",null,"月曜日　24時")),n.createElement("tr",null,n.createElement("td",null,"恋はdeepに"),n.createElement("td",null,"日テレ"),n.createElement("td",null,"水曜日　22時")),n.createElement("tr",null,n.createElement("td",null,"桜の塔"),n.createElement("td",null,"テレビ朝日"),n.createElement("td",null,"木曜日　21時")),n.createElement("tr",null,n.createElement("td",null,"コントが始まる"),n.createElement("td",null,"日テレ"),n.createElement("td",null,"土曜日　22時")),n.createElement("tr",null,n.createElement("td",null,"龍桜"),n.createElement("td",null,"ＴＢＳ"),n.createElement("td",null,"日曜日　21時")),n.createElement("tr",null,n.createElement("td",null,"ネメシス"),n.createElement("td",null,"日テレ"),n.createElement("td",null,"日曜日　22時30分")))))}l.render(n.createElement(n.StrictMode,null,n.createElement(a,null)),document.getElementById("root")),console.log(`app version: ${window.__APP_VERSION__}`);
